{"version":3,"sources":["webpack:///./node_modules/@theia/mini-browser/src/browser/mini-browser-content-style.ts","webpack:///./node_modules/@theia/mini-browser/src/browser/mini-browser-content.ts","webpack:///./node_modules/@theia/mini-browser/src/browser/mini-browser-frontend-module.ts","webpack:///./node_modules/@theia/mini-browser/src/browser/mini-browser-open-handler.ts","webpack:///./node_modules/@theia/mini-browser/src/browser/mini-browser.ts","webpack:///./node_modules/@theia/mini-browser/src/common/mini-browser-service.ts","webpack:///./node_modules/@theia/mini-browser/src/browser/style/index.css?8904","webpack:///./node_modules/@theia/mini-browser/src/browser/style/mini-browser.svg","webpack:///./node_modules/@theia/mini-browser/src/browser/style/index.css","webpack:///./node_modules/pdfobject/pdfobject.js"],"names":[],"mappings":"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","file":"55.bundle.js","sourcesContent":["/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nexport namespace MiniBrowserContentStyle {\n    export const MINI_BROWSER = 'theia-mini-browser';\n    export const TOOLBAR = 'theia-mini-browser-toolbar';\n    export const TOOLBAR_READ_ONLY = 'theia-mini-browser-toolbar-read-only';\n    export const PRE_LOAD = 'theia-mini-browser-load-indicator';\n    export const FADE_OUT = 'theia-fade-out';\n    export const CONTENT_AREA = 'theia-mini-browser-content-area';\n    export const PDF_CONTAINER = 'theia-mini-browser-pdf-container';\n    export const PREVIOUS = 'theia-mini-browser-previous';\n    export const NEXT = 'theia-mini-browser-next';\n    export const REFRESH = 'theia-mini-browser-refresh';\n    export const OPEN = 'theia-mini-browser-open';\n    export const BUTTON = 'theia-mini-browser-button';\n    export const DISABLED = 'theia-mini-browser-button-disabled';\n    export const TRANSPARENT_OVERLAY = 'theia-transparent-overlay';\n    export const ERROR_BAR = 'theia-mini-browser-error-bar';\n}\n","/********************************************************************************\n * Copyright (C) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as PDFObject from 'pdfobject';\nimport { inject, injectable, postConstruct } from 'inversify';\nimport { Message } from '@phosphor/messaging';\nimport URI from '@theia/core/lib/common/uri';\nimport { ILogger } from '@theia/core/lib/common/logger';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { FileSystem } from '@theia/filesystem/lib/common/filesystem';\nimport { KeybindingRegistry } from '@theia/core/lib/browser/keybinding';\nimport { WindowService } from '@theia/core/lib/browser/window/window-service';\nimport { parseCssTime, Key, KeyCode } from '@theia/core/lib/browser';\nimport { FileSystemWatcher, FileChangeEvent } from '@theia/filesystem/lib/browser/filesystem-watcher';\nimport { DisposableCollection, Disposable } from '@theia/core/lib/common/disposable';\nimport { BaseWidget, addEventListener } from '@theia/core/lib/browser/widgets/widget';\nimport { LocationMapperService } from './location-mapper-service';\nimport { ApplicationShellMouseTracker } from '@theia/core/lib/browser/shell/application-shell-mouse-tracker';\n\nimport debounce = require('lodash.debounce');\nimport { MiniBrowserContentStyle } from './mini-browser-content-style';\n\n/**\n * Initializer properties for the embedded browser widget.\n */\n@injectable()\nexport class MiniBrowserProps {\n\n    /**\n     * `show` if the toolbar should be visible. If `read-only`, the toolbar is visible but the address cannot be changed and it acts as a link instead.\\\n     * `hide` if the toolbar should be hidden. `show` by default. If the `startPage` is not defined, this property is always `show`.\n     */\n    readonly toolbar?: 'show' | 'hide' | 'read-only';\n\n    /**\n     * If defined, the browser will load this page on startup. Otherwise, it show a blank page.\n     */\n    readonly startPage?: string;\n\n    /**\n     * Sandbox options for the underlying `iframe`. Defaults to `SandboxOptions#DEFAULT` if not provided.\n     */\n    readonly sandbox?: MiniBrowserProps.SandboxOptions[];\n\n    /**\n     * The optional icon class for the widget.\n     */\n    readonly iconClass?: string;\n\n    /**\n     * The desired name of the widget.\n     */\n    readonly name?: string;\n\n    /**\n     * `true` if the `iFrame`'s background has to be reset to the default white color. Otherwise, `false`. `false` is the default.\n     */\n    readonly resetBackground?: boolean;\n\n}\n\nexport namespace MiniBrowserProps {\n\n    /**\n     * Enumeration of the supported `sandbox` options for the `iframe`.\n     */\n    export enum SandboxOptions {\n\n        /**\n         * Allows form submissions.\n         */\n        'allow-forms',\n\n        /**\n         * Allows popups, such as `window.open()`, `showModalDialog()`, `target=”_blank”`, etc.\n         */\n        'allow-popups',\n\n        /**\n         * Allows pointer lock.\n         */\n        'allow-pointer-lock',\n\n        /**\n         * Allows the document to maintain its origin. Pages loaded from https://example.com/ will retain access to that origin’s data.\n         */\n        'allow-same-origin',\n\n        /**\n         * Allows JavaScript execution. Also allows features to trigger automatically (as they’d be trivial to implement via JavaScript).\n         */\n        'allow-scripts',\n\n        /**\n         * Allows the document to break out of the frame by navigating the top-level `window`.\n         */\n        'allow-top-navigation',\n\n        /**\n         * Allows the embedded browsing context to open modal windows.\n         */\n        'allow-modals',\n\n        /**\n         * Allows the embedded browsing context to disable the ability to lock the screen orientation.\n         */\n        'allow-orientation-lock',\n\n        /**\n         * Allows a sandboxed document to open new windows without forcing the sandboxing flags upon them.\n         * This will allow, for example, a third-party advertisement to be safely sandboxed without forcing the same restrictions upon a landing page.\n         */\n        'allow-popups-to-escape-sandbox',\n\n        /**\n         * Allows embedders to have control over whether an iframe can start a presentation session.\n         */\n        'allow-presentation',\n\n        /**\n         * Allows the embedded browsing context to navigate (load) content to the top-level browsing context only when initiated by a user gesture.\n         * If this keyword is not used, this operation is not allowed.\n         */\n        'allow-top-navigation-by-user-activation'\n    }\n\n    export namespace SandboxOptions {\n\n        /**\n         * The default `sandbox` options, if other is not provided.\n         *\n         * See: https://www.html5rocks.com/en/tutorials/security/sandboxed-iframes/\n         */\n        export const DEFAULT: SandboxOptions[] = [\n            SandboxOptions['allow-same-origin'],\n            SandboxOptions['allow-scripts'],\n            SandboxOptions['allow-popups'],\n            SandboxOptions['allow-forms'],\n            SandboxOptions['allow-modals']\n        ];\n\n    }\n\n}\n\nexport const MiniBrowserContentFactory = Symbol('MiniBrowserContentFactory');\nexport type MiniBrowserContentFactory = (props: MiniBrowserProps) => MiniBrowserContent;\n\n@injectable()\nexport class MiniBrowserContent extends BaseWidget {\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    @inject(WindowService)\n    protected readonly windowService: WindowService;\n\n    @inject(LocationMapperService)\n    protected readonly locationMapper: LocationMapperService;\n\n    @inject(KeybindingRegistry)\n    protected readonly keybindings: KeybindingRegistry;\n\n    @inject(ApplicationShellMouseTracker)\n    protected readonly mouseTracker: ApplicationShellMouseTracker;\n\n    @inject(FileSystem)\n    protected readonly fileSystem: FileSystem;\n\n    @inject(FileSystemWatcher)\n    protected readonly fileSystemWatcher: FileSystemWatcher;\n\n    protected readonly submitInputEmitter = new Emitter<string>();\n    protected readonly navigateBackEmitter = new Emitter<void>();\n    protected readonly navigateForwardEmitter = new Emitter<void>();\n    protected readonly refreshEmitter = new Emitter<void>();\n    protected readonly openEmitter = new Emitter<void>();\n\n    protected readonly input: HTMLInputElement;\n    protected readonly loadIndicator: HTMLElement;\n    protected readonly errorBar: HTMLElement & Readonly<{ message: HTMLElement }>;\n    protected readonly frame: HTMLIFrameElement;\n    // eslint-disable-next-line max-len\n    // XXX This is a hack to be able to tack the mouse events when drag and dropping the widgets. On `mousedown` we put a transparent div over the `iframe` to avoid losing the mouse tacking.\n    protected readonly transparentOverlay: HTMLElement;\n    // XXX It is a hack. Instead of loading the PDF in an iframe we use `PDFObject` to render it in a div.\n    protected readonly pdfContainer: HTMLElement;\n\n    protected frameLoadTimeout: number;\n    protected readonly initialHistoryLength: number;\n    protected readonly toDisposeOnGo = new DisposableCollection();\n\n    constructor(@inject(MiniBrowserProps) protected readonly props: MiniBrowserProps) {\n        super();\n        this.node.tabIndex = 0;\n        this.addClass(MiniBrowserContentStyle.MINI_BROWSER);\n        this.input = this.createToolbar(this.node).input;\n        const contentArea = this.createContentArea(this.node);\n        this.frame = contentArea.frame;\n        this.transparentOverlay = contentArea.transparentOverlay;\n        this.loadIndicator = contentArea.loadIndicator;\n        this.errorBar = contentArea.errorBar;\n        this.pdfContainer = contentArea.pdfContainer;\n        this.initialHistoryLength = history.length;\n        this.toDispose.pushAll([\n            this.submitInputEmitter,\n            this.navigateBackEmitter,\n            this.navigateForwardEmitter,\n            this.refreshEmitter,\n            this.openEmitter\n        ]);\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.toDispose.push(this.mouseTracker.onMousedown(e => {\n            if (this.frame.style.display !== 'none') {\n                this.transparentOverlay.style.display = 'block';\n            }\n        }));\n        this.toDispose.push(this.mouseTracker.onMouseup(e => {\n            if (this.frame.style.display !== 'none') {\n                this.transparentOverlay.style.display = 'none';\n            }\n        }));\n        const { startPage } = this.props;\n        if (startPage) {\n            setTimeout(() => this.go(startPage), 500);\n            this.listenOnContentChange(startPage);\n        }\n    }\n\n    protected onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        if (this.getToolbarProps() !== 'hide') {\n            this.input.focus();\n        } else {\n            this.node.focus();\n        }\n    }\n\n    protected async listenOnContentChange(location: string): Promise<void> {\n        if (location.startsWith('file://')) {\n            if (await this.fileSystem.exists(location)) {\n                const fileUri = new URI(location);\n                const watcher = await this.fileSystemWatcher.watchFileChanges(fileUri);\n                this.toDispose.push(watcher);\n                const onFileChange = (event: FileChangeEvent) => {\n                    if (FileChangeEvent.isChanged(event, fileUri)) {\n                        this.go(location, {\n                            showLoadIndicator: false\n                        });\n                    }\n                };\n                this.toDispose.push(this.fileSystemWatcher.onFilesChanged(debounce(onFileChange, 500)));\n            }\n        }\n    }\n\n    protected createToolbar(parent: HTMLElement): HTMLDivElement & Readonly<{ input: HTMLInputElement }> {\n        const toolbar = document.createElement('div');\n        toolbar.classList.add(this.getToolbarProps() === 'read-only' ? MiniBrowserContentStyle.TOOLBAR_READ_ONLY : MiniBrowserContentStyle.TOOLBAR);\n        parent.appendChild(toolbar);\n        this.createPrevious(toolbar);\n        this.createNext(toolbar);\n        this.createRefresh(toolbar);\n        const input = this.createInput(toolbar);\n        input.readOnly = this.getToolbarProps() === 'read-only';\n        this.createOpen(toolbar);\n        if (this.getToolbarProps() === 'hide') {\n            toolbar.style.display = 'none';\n        }\n        return Object.assign(toolbar, { input });\n    }\n\n    protected getToolbarProps(): 'show' | 'hide' | 'read-only' {\n        return !this.props.startPage ? 'show' : this.props.toolbar || 'show';\n    }\n\n    // eslint-disable-next-line max-len\n    protected createContentArea(parent: HTMLElement): HTMLElement & Readonly<{ frame: HTMLIFrameElement, loadIndicator: HTMLElement, errorBar: HTMLElement & Readonly<{ message: HTMLElement }>, pdfContainer: HTMLElement, transparentOverlay: HTMLElement }> {\n        const contentArea = document.createElement('div');\n        contentArea.classList.add(MiniBrowserContentStyle.CONTENT_AREA);\n\n        const loadIndicator = document.createElement('div');\n        loadIndicator.classList.add(MiniBrowserContentStyle.PRE_LOAD);\n        loadIndicator.style.display = 'none';\n\n        const errorBar = this.createErrorBar();\n\n        const frame = this.createIFrame();\n        this.submitInputEmitter.event(input => this.go(input, {\n            preserveFocus: false\n        }));\n        this.navigateBackEmitter.event(this.handleBack.bind(this));\n        this.navigateForwardEmitter.event(this.handleForward.bind(this));\n        this.refreshEmitter.event(this.handleRefresh.bind(this));\n        this.openEmitter.event(this.handleOpen.bind(this));\n\n        const transparentOverlay = document.createElement('div');\n        transparentOverlay.classList.add(MiniBrowserContentStyle.TRANSPARENT_OVERLAY);\n        transparentOverlay.style.display = 'none';\n\n        const pdfContainer = document.createElement('div');\n        pdfContainer.classList.add(MiniBrowserContentStyle.PDF_CONTAINER);\n        pdfContainer.id = `${this.id}-pdf-container`;\n        pdfContainer.style.display = 'none';\n\n        contentArea.appendChild(errorBar);\n        contentArea.appendChild(transparentOverlay);\n        contentArea.appendChild(pdfContainer);\n        contentArea.appendChild(loadIndicator);\n        contentArea.appendChild(frame);\n\n        parent.appendChild(contentArea);\n        return Object.assign(contentArea, { frame, loadIndicator, errorBar, pdfContainer, transparentOverlay });\n    }\n\n    protected createIFrame(): HTMLIFrameElement {\n        const frame = document.createElement('iframe');\n        const sandbox = (this.props.sandbox || MiniBrowserProps.SandboxOptions.DEFAULT).map(name => MiniBrowserProps.SandboxOptions[name]);\n        frame.sandbox.add(...sandbox);\n        this.toDispose.push(addEventListener(frame, 'load', this.onFrameLoad.bind(this)));\n        this.toDispose.push(addEventListener(frame, 'error', this.onFrameError.bind(this)));\n        return frame;\n    }\n\n    protected createErrorBar(): HTMLElement & Readonly<{ message: HTMLElement }> {\n        const errorBar = document.createElement('div');\n        errorBar.classList.add(MiniBrowserContentStyle.ERROR_BAR);\n        errorBar.style.display = 'none';\n\n        const icon = document.createElement('span');\n        icon.classList.add('fa', 'problem-tab-icon');\n        errorBar.appendChild(icon);\n\n        const message = document.createElement('span');\n        errorBar.appendChild(message);\n\n        return Object.assign(errorBar, { message });\n    }\n\n    protected onFrameLoad(): void {\n        clearTimeout(this.frameLoadTimeout);\n        this.maybeResetBackground();\n        this.hideLoadIndicator();\n        this.hideErrorBar();\n    }\n\n    protected onFrameError(): void {\n        clearTimeout(this.frameLoadTimeout);\n        this.maybeResetBackground();\n        this.hideLoadIndicator();\n        this.showErrorBar('An error occurred while loading this page');\n    }\n\n    protected onFrameTimeout(): void {\n        clearTimeout(this.frameLoadTimeout);\n        this.maybeResetBackground();\n        this.hideLoadIndicator();\n        this.showErrorBar('Still loading...');\n    }\n\n    protected showLoadIndicator(): void {\n        this.loadIndicator.classList.remove(MiniBrowserContentStyle.FADE_OUT);\n        this.loadIndicator.style.display = 'block';\n    }\n\n    protected hideLoadIndicator(): void {\n        // Start the fade-out transition.\n        this.loadIndicator.classList.add(MiniBrowserContentStyle.FADE_OUT);\n        // Actually hide the load indicator after the transition is finished.\n        const preloadStyle = window.getComputedStyle(this.loadIndicator);\n        const transitionDuration = parseCssTime(preloadStyle.transitionDuration, 0);\n        setTimeout(() => {\n            // But don't hide it if it was shown again since the transition started.\n            if (this.loadIndicator.classList.contains(MiniBrowserContentStyle.FADE_OUT)) {\n                this.loadIndicator.style.display = 'none';\n                this.loadIndicator.classList.remove(MiniBrowserContentStyle.FADE_OUT);\n            }\n        }, transitionDuration);\n    }\n\n    protected showErrorBar(message: string): void {\n        this.errorBar.message.textContent = message;\n        this.errorBar.style.display = 'block';\n    }\n\n    protected hideErrorBar(): void {\n        this.errorBar.message.textContent = '';\n        this.errorBar.style.display = 'none';\n    }\n\n    protected maybeResetBackground(): void {\n        if (this.props.resetBackground === true) {\n            this.frame.style.backgroundColor = 'white';\n        }\n    }\n\n    protected handleBack(): void {\n        if (history.length - this.initialHistoryLength > 0) {\n            history.back();\n        }\n    }\n\n    protected handleForward(): void {\n        if (history.length > this.initialHistoryLength) {\n            history.forward();\n        }\n    }\n\n    protected handleRefresh(): void {\n        // Initial pessimism; use the location of the input.\n        let location: string | undefined = this.props.startPage;\n        // Use the the location from the `input`.\n        if (this.input && this.input.value) {\n            location = this.input.value;\n        }\n        try {\n            const { contentDocument } = this.frame;\n            if (contentDocument && contentDocument.location) {\n                location = contentDocument.location.href;\n            }\n        } catch {\n            // Security exception due to CORS when trying to access the `location.href` of the content document.\n        }\n        if (location) {\n            this.go(location, {\n                preserveFocus: false\n            });\n        }\n    }\n\n    protected handleOpen(): void {\n        const location = this.frameSrc() || this.input.value;\n        if (location) {\n            this.windowService.openNewWindow(location);\n        }\n    }\n\n    protected createInput(parent: HTMLElement): HTMLInputElement {\n        const input = document.createElement('input');\n        input.type = 'text';\n        input.classList.add('theia-input');\n        this.toDispose.pushAll([\n            addEventListener(input, 'keydown', this.handleInputChange.bind(this)),\n            addEventListener(input, 'click', () => {\n                if (this.getToolbarProps() === 'read-only') {\n                    this.handleOpen();\n                } else {\n                    if (input.value) {\n                        input.select();\n                    }\n                }\n            })\n        ]);\n        parent.appendChild(input);\n        return input;\n    }\n\n    protected handleInputChange(e: KeyboardEvent): void {\n        const { key } = KeyCode.createKeyCode(e);\n        if (key && Key.ENTER.keyCode === key.keyCode && this.getToolbarProps() === 'show') {\n            const { srcElement } = e;\n            if (srcElement instanceof HTMLInputElement) {\n                this.mapLocation(srcElement.value).then(location => this.submitInputEmitter.fire(location));\n            }\n        }\n    }\n\n    protected createPrevious(parent: HTMLElement): HTMLElement {\n        return this.onClick(this.createButton(parent, 'Show The Previous Page', MiniBrowserContentStyle.PREVIOUS), this.navigateBackEmitter);\n    }\n\n    protected createNext(parent: HTMLElement): HTMLElement {\n        return this.onClick(this.createButton(parent, 'Show The Next Page', MiniBrowserContentStyle.NEXT), this.navigateForwardEmitter);\n    }\n\n    protected createRefresh(parent: HTMLElement): HTMLElement {\n        return this.onClick(this.createButton(parent, 'Reload This Page', MiniBrowserContentStyle.REFRESH), this.refreshEmitter);\n    }\n\n    protected createOpen(parent: HTMLElement): HTMLElement {\n        const button = this.onClick(this.createButton(parent, 'Open In A New Window', MiniBrowserContentStyle.OPEN), this.openEmitter);\n        return button;\n    }\n\n    protected createButton(parent: HTMLElement, title: string, ...className: string[]): HTMLElement {\n        const button = document.createElement('div');\n        button.title = title;\n        button.classList.add(...className, MiniBrowserContentStyle.BUTTON);\n        parent.appendChild(button);\n        return button;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected onClick(element: HTMLElement, emitter: Emitter<any>): HTMLElement {\n        this.toDispose.push(addEventListener(element, 'click', () => {\n            if (!element.classList.contains(MiniBrowserContentStyle.DISABLED)) {\n                emitter.fire(undefined);\n            }\n        }));\n        return element;\n    }\n\n    protected mapLocation(location: string): Promise<string> {\n        return this.locationMapper.map(location);\n    }\n\n    protected setInput(value: string): void {\n        if (this.input.value !== value) {\n            this.input.value = value;\n        }\n    }\n\n    protected frameSrc(): string {\n        let src = this.frame.src;\n        try {\n            const { contentWindow } = this.frame;\n            if (contentWindow) {\n                src = contentWindow.location.href;\n            }\n        } catch {\n            // CORS issue. Ignored.\n        }\n        if (src === 'about:blank') {\n            src = '';\n        }\n        return src;\n    }\n\n    protected contentDocument(): Document | null {\n        try {\n            let { contentDocument } = this.frame;\n            // eslint-disable-next-line no-null/no-null\n            if (contentDocument === null) {\n                const { contentWindow } = this.frame;\n                if (contentWindow) {\n                    contentDocument = contentWindow.document;\n                }\n            }\n            return contentDocument;\n        } catch {\n            // eslint-disable-next-line no-null/no-null\n            return null;\n        }\n    }\n\n    protected async go(location: string, options?: Partial<{\n        /* default: true */\n        showLoadIndicator: boolean,\n        /* default: true */\n        preserveFocus: boolean\n    }>): Promise<void> {\n        const { showLoadIndicator, preserveFocus } = {\n            showLoadIndicator: true,\n            preserveFocus: true,\n            ...options\n        };\n        if (location) {\n            try {\n                this.toDisposeOnGo.dispose();\n                const url = await this.mapLocation(location);\n                this.setInput(url);\n                if (this.getToolbarProps() === 'read-only') {\n                    this.input.title = `Open ${url} In A New Window`;\n                }\n                clearTimeout(this.frameLoadTimeout);\n                this.frameLoadTimeout = window.setTimeout(this.onFrameTimeout.bind(this), 4000);\n                if (showLoadIndicator) {\n                    this.showLoadIndicator();\n                }\n                if (url.endsWith('.pdf')) {\n                    this.pdfContainer.style.display = 'block';\n                    this.frame.style.display = 'none';\n                    PDFObject.embed(url, this.pdfContainer, {\n                        // eslint-disable-next-line max-len, @typescript-eslint/quotes\n                        fallbackLink: `<p style=\"padding: 0px 15px 0px 15px\">Your browser does not support inline PDFs. Click on this <a href='[url]' target=\"_blank\">link</a> to open the PDF in a new tab.</p>`\n                    });\n                    clearTimeout(this.frameLoadTimeout);\n                    this.hideLoadIndicator();\n                    if (!preserveFocus) {\n                        this.pdfContainer.focus();\n                    }\n                } else {\n                    this.pdfContainer.style.display = 'none';\n                    this.frame.style.display = 'block';\n                    this.frame.src = url;\n                    // The load indicator will hide itself if the content of the iframe was loaded.\n                    if (!preserveFocus) {\n                        this.frame.addEventListener('load', () => {\n                            const window = this.frame.contentWindow;\n                            if (window) {\n                                window.focus();\n                            }\n                        }, { once: true });\n                    }\n                }\n                // Delegate all the `keypress` events from the `iframe` to the application.\n                this.toDisposeOnGo.push(addEventListener(this.frame, 'load', () => {\n                    try {\n                        const { contentDocument } = this.frame;\n                        if (contentDocument) {\n                            const keypressHandler = (e: KeyboardEvent) => this.keybindings.run(e);\n                            contentDocument.addEventListener('keypress', keypressHandler, true);\n                            this.toDisposeOnDetach.push(Disposable.create(() => contentDocument.removeEventListener('keypress', keypressHandler)));\n                        }\n                    } catch {\n                        // There is not much we could do with the security exceptions due to CORS.\n                    }\n                }));\n            } catch (e) {\n                clearTimeout(this.frameLoadTimeout);\n                this.hideLoadIndicator();\n                this.showErrorBar(String(e));\n                console.log(e);\n            }\n        }\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport '../../src/browser/style/index.css';\n\nimport { ContainerModule } from 'inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { OpenHandler } from '@theia/core/lib/browser/opener-service';\nimport { WidgetFactory } from '@theia/core/lib/browser/widget-manager';\nimport { bindContributionProvider } from '@theia/core/lib/common/contribution-provider';\nimport { WebSocketConnectionProvider } from '@theia/core/lib/browser/messaging/ws-connection-provider';\nimport { FrontendApplicationContribution } from '@theia/core/lib/browser/frontend-application';\nimport { TabBarToolbarContribution } from '@theia/core/lib/browser/shell/tab-bar-toolbar';\nimport { CommandContribution } from '@theia/core/lib/common/command';\nimport { MenuContribution } from '@theia/core/lib/common/menu';\nimport { NavigatableWidgetOptions } from '@theia/core/lib/browser/navigatable';\nimport { MiniBrowserOpenHandler } from './mini-browser-open-handler';\nimport { MiniBrowserService, MiniBrowserServicePath } from '../common/mini-browser-service';\nimport { MiniBrowser, MiniBrowserOptions } from './mini-browser';\nimport { MiniBrowserProps, MiniBrowserContentFactory, MiniBrowserContent } from './mini-browser-content';\nimport {\n    LocationMapperService,\n    FileLocationMapper,\n    HttpLocationMapper,\n    HttpsLocationMapper,\n    LocationMapper,\n    LocationWithoutSchemeMapper,\n} from './location-mapper-service';\n\nexport default new ContainerModule(bind => {\n\n    bind(MiniBrowserContent).toSelf();\n    bind(MiniBrowserContentFactory).toFactory(context => (props: MiniBrowserProps) => {\n        const { container } = context;\n        const child = container.createChild();\n        child.bind(MiniBrowserProps).toConstantValue(props);\n        return child.get(MiniBrowserContent);\n    });\n\n    bind(MiniBrowser).toSelf();\n    bind(WidgetFactory).toDynamicValue(context => ({\n        id: MiniBrowser.ID,\n        async createWidget(options: NavigatableWidgetOptions): Promise<MiniBrowser> {\n            const { container } = context;\n            const child = container.createChild();\n            const uri = new URI(options.uri);\n            child.bind(MiniBrowserOptions).toConstantValue({ uri });\n            return child.get(MiniBrowser);\n        }\n    })).inSingletonScope();\n\n    bind(MiniBrowserOpenHandler).toSelf().inSingletonScope();\n    bind(OpenHandler).toService(MiniBrowserOpenHandler);\n    bind(FrontendApplicationContribution).toService(MiniBrowserOpenHandler);\n    bind(CommandContribution).toService(MiniBrowserOpenHandler);\n    bind(MenuContribution).toService(MiniBrowserOpenHandler);\n    bind(TabBarToolbarContribution).toService(MiniBrowserOpenHandler);\n\n    bindContributionProvider(bind, LocationMapper);\n    bind(LocationMapper).to(FileLocationMapper).inSingletonScope();\n    bind(LocationMapper).to(HttpLocationMapper).inSingletonScope();\n    bind(LocationMapper).to(HttpsLocationMapper).inSingletonScope();\n    bind(LocationWithoutSchemeMapper).toSelf().inSingletonScope();\n    bind(LocationMapper).toService(LocationWithoutSchemeMapper);\n    bind(LocationMapperService).toSelf().inSingletonScope();\n\n    bind(MiniBrowserService).toDynamicValue(context => WebSocketConnectionProvider.createProxy(context.container, MiniBrowserServicePath)).inSingletonScope();\n});\n","/********************************************************************************\n * Copyright (C) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { Widget } from '@phosphor/widgets';\nimport { injectable, inject } from 'inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { MaybePromise } from '@theia/core/lib/common/types';\nimport { QuickInputService } from '@theia/core/lib/browser';\nimport { ApplicationShell } from '@theia/core/lib/browser/shell';\nimport { Command, CommandContribution, CommandRegistry } from '@theia/core/lib/common/command';\nimport { MenuContribution, MenuModelRegistry } from '@theia/core/lib/common/menu';\nimport { TabBarToolbarContribution, TabBarToolbarRegistry } from '@theia/core/lib/browser/shell/tab-bar-toolbar';\nimport { NavigatableWidget, NavigatableWidgetOpenHandler } from '@theia/core/lib/browser/navigatable';\nimport { open, OpenerService } from '@theia/core/lib/browser/opener-service';\nimport { LabelProvider } from '@theia/core/lib/browser/label-provider';\nimport { FrontendApplicationContribution } from '@theia/core/lib/browser/frontend-application';\nimport { WidgetOpenerOptions } from '@theia/core/lib/browser/widget-open-handler';\nimport { MiniBrowserService } from '../common/mini-browser-service';\nimport { MiniBrowser, MiniBrowserProps } from './mini-browser';\nimport { LocationMapperService } from './location-mapper-service';\n\nexport namespace MiniBrowserCommands {\n    export const PREVIEW: Command = {\n        id: 'mini-browser.preview',\n        label: 'Open Preview',\n        iconClass: 'theia-open-preview-icon'\n    };\n    export const OPEN_SOURCE: Command = {\n        id: 'mini-browser.open.source',\n        iconClass: 'theia-open-file-icon'\n    };\n    export const OPEN_URL: Command = {\n        id: 'mini-browser.openUrl',\n        category: 'Preview',\n        label: 'Open URL'\n    };\n}\n\n/**\n * Further options for opening a new `Mini Browser` widget.\n */\nexport interface MiniBrowserOpenerOptions extends WidgetOpenerOptions, MiniBrowserProps {\n\n}\n\n@injectable()\nexport class MiniBrowserOpenHandler extends NavigatableWidgetOpenHandler<MiniBrowser>\n    implements FrontendApplicationContribution, CommandContribution, MenuContribution, TabBarToolbarContribution {\n\n    static PREVIEW_URI = new URI().withScheme('__minibrowser__preview__');\n\n    /**\n     * Instead of going to the backend with each file URI to ask whether it can handle the current file or not,\n     * we have this map of extension and priority pairs that we populate at application startup.\n     * The real advantage of this approach is the following: [Phosphor cannot run async code when invoking `isEnabled`/`isVisible`\n     * for the command handlers](https://github.com/eclipse-theia/theia/issues/1958#issuecomment-392829371)\n     * so the menu item would be always visible for the user even if the file type cannot be handled eventually.\n     * Hopefully, we could get rid of this hack once we have migrated the existing Phosphor code to [React](https://github.com/eclipse-theia/theia/issues/1915).\n     */\n    protected readonly supportedExtensions: Map<string, number> = new Map();\n\n    readonly id = MiniBrowser.ID;\n    readonly label = 'Preview';\n\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(QuickInputService)\n    protected readonly quickInputService: QuickInputService;\n\n    @inject(MiniBrowserService)\n    protected readonly miniBrowserService: MiniBrowserService;\n\n    @inject(LocationMapperService)\n    protected readonly locationMapperService: LocationMapperService;\n\n    onStart(): void {\n        (async () => (await this.miniBrowserService.supportedFileExtensions()).forEach(entry => {\n            const { extension, priority } = entry;\n            this.supportedExtensions.set(extension, priority);\n        }))();\n    }\n\n    canHandle(uri: URI): number {\n        // It does not guard against directories. For instance, a folder with this name: `Hahahah.html`.\n        // We could check with the FS, but then, this method would become async again.\n        const extension = uri.toString().split('.').pop();\n        if (extension) {\n            return this.supportedExtensions.get(extension.toLocaleLowerCase()) || 0;\n        }\n        return 0;\n    }\n\n    async open(uri: URI, options?: MiniBrowserOpenerOptions): Promise<MiniBrowser> {\n        const widget = await super.open(uri, options);\n        const area = this.shell.getAreaFor(widget);\n        if (area === 'right' || area === 'left') {\n            const panelLayout = area === 'right' ? this.shell.getLayoutData().rightPanel : this.shell.getLayoutData().leftPanel;\n            const minSize = this.shell.mainPanel.node.offsetWidth / 2;\n            if (panelLayout && panelLayout.size && panelLayout.size <= minSize) {\n                requestAnimationFrame(() => this.shell.resize(minSize, area));\n            }\n        }\n        return widget;\n    }\n\n    protected async getOrCreateWidget(uri: URI, options?: MiniBrowserOpenerOptions): Promise<MiniBrowser> {\n        const props = await this.options(uri, options);\n        const widget = await super.getOrCreateWidget(uri, props);\n        widget.setProps(props);\n        return widget;\n    }\n\n    protected async options(uri?: URI, options?: MiniBrowserOpenerOptions): Promise<MiniBrowserOpenerOptions & { widgetOptions: ApplicationShell.WidgetOptions }> {\n        // Get the default options.\n        let result = await this.defaultOptions();\n        if (uri) {\n            // Decorate it with a few properties inferred from the URI.\n            const startPage = uri.toString(true);\n            const name = this.labelProvider.getName(uri);\n            const iconClass = `${this.labelProvider.getIcon(uri)} file-icon`;\n            // The background has to be reset to white only for \"real\" web-pages but not for images, for instance.\n            const resetBackground = await this.resetBackground(uri);\n            result = {\n                ...result,\n                startPage,\n                name,\n                iconClass,\n                // Make sure the toolbar is not visible. We have the `iframe.src` anyway.\n                toolbar: 'hide',\n                resetBackground\n            };\n        }\n        if (options) {\n            // Explicit options overrule everything.\n            result = {\n                ...result,\n                ...options\n            };\n        }\n        return result;\n    }\n\n    protected resetBackground(uri: URI): MaybePromise<boolean> {\n        const { scheme } = uri;\n        const uriStr = uri.toString();\n        return scheme === 'http'\n            || scheme === 'https'\n            || (scheme === 'file'\n                && (uriStr.endsWith('html') || uriStr.endsWith('.htm'))\n            );\n    }\n\n    protected async defaultOptions(): Promise<MiniBrowserOpenerOptions & { widgetOptions: ApplicationShell.WidgetOptions }> {\n        return {\n            mode: 'activate',\n            widgetOptions: { area: 'main' },\n            sandbox: MiniBrowserProps.SandboxOptions.DEFAULT,\n            toolbar: 'show'\n        };\n    }\n\n    registerCommands(commands: CommandRegistry): void {\n        commands.registerCommand(MiniBrowserCommands.PREVIEW, {\n            execute: widget => this.preview(widget),\n            isEnabled: widget => this.canPreviewWidget(widget),\n            isVisible: widget => this.canPreviewWidget(widget)\n        });\n        commands.registerCommand(MiniBrowserCommands.OPEN_SOURCE, {\n            execute: widget => this.openSource(widget),\n            isEnabled: widget => !!this.getSourceUri(widget),\n            isVisible: widget => !!this.getSourceUri(widget)\n        });\n        commands.registerCommand(MiniBrowserCommands.OPEN_URL, {\n            execute: (arg?: string) => this.openUrl(arg)\n        });\n    }\n\n    registerMenus(menus: MenuModelRegistry): void {\n        menus.registerMenuAction(['editor_context_menu', 'navigation'], {\n            commandId: MiniBrowserCommands.PREVIEW.id\n        });\n    }\n\n    registerToolbarItems(toolbar: TabBarToolbarRegistry): void {\n        toolbar.registerItem({\n            id: MiniBrowserCommands.PREVIEW.id,\n            command: MiniBrowserCommands.PREVIEW.id,\n            tooltip: 'Open Preview to the Side'\n        });\n        toolbar.registerItem({\n            id: MiniBrowserCommands.OPEN_SOURCE.id,\n            command: MiniBrowserCommands.OPEN_SOURCE.id,\n            tooltip: 'Open Source'\n        });\n    }\n\n    protected canPreviewWidget(widget?: Widget): boolean {\n        const uri = this.getUriToPreview(widget);\n        return !!uri && !!this.canHandle(uri);\n    }\n\n    protected getUriToPreview(widget?: Widget): URI | undefined {\n        const current = this.getWidgetToPreview(widget);\n        return current && current.getResourceUri();\n    }\n\n    protected getWidgetToPreview(widget?: Widget): NavigatableWidget | undefined {\n        const current = widget ? widget : this.shell.currentWidget;\n        // MiniBrowser is NavigatableWidget and should be excluded from widgets to preview\n        return !(current instanceof MiniBrowser) && NavigatableWidget.is(current) && current || undefined;\n    }\n\n    protected async preview(widget?: Widget): Promise<void> {\n        const ref = this.getWidgetToPreview(widget);\n        if (!ref) {\n            return;\n        }\n        const uri = ref.getResourceUri();\n        if (!uri) {\n            return;\n        }\n        await this.open(uri, {\n            mode: 'reveal',\n            widgetOptions: { ref, mode: 'open-to-right' }\n        });\n    }\n\n    protected async openSource(ref?: Widget): Promise<void> {\n        const uri = this.getSourceUri(ref);\n        if (uri) {\n            await open(this.openerService, uri, {\n                widgetOptions: { ref, mode: 'open-to-left' }\n            });\n        }\n    }\n\n    protected getSourceUri(ref?: Widget): URI | undefined {\n        const uri = ref instanceof MiniBrowser && ref.getResourceUri() || undefined;\n        if (!uri || uri.scheme === 'http' || uri.scheme === 'https') {\n            return undefined;\n        }\n        return uri;\n    }\n\n    protected async openUrl(arg?: string): Promise<void> {\n        const url = arg ? arg : await this.quickInputService.open({\n            prompt: 'URL to open',\n            placeHolder: 'Type a URL'\n        });\n        if (url) {\n            await this.openPreview(url);\n        }\n    }\n\n    async openPreview(startPage: string): Promise<MiniBrowser> {\n        const props = await this.getOpenPreviewProps(await this.locationMapperService.map(startPage));\n        return this.open(MiniBrowserOpenHandler.PREVIEW_URI, props);\n    }\n\n    protected async getOpenPreviewProps(startPage: string): Promise<MiniBrowserOpenerOptions> {\n        const resetBackground = await this.resetBackground(new URI(startPage));\n        return {\n            name: 'Preview',\n            startPage,\n            toolbar: 'read-only',\n            widgetOptions: {\n                area: 'right'\n            },\n            resetBackground,\n            iconClass: 'theia-mini-browser-icon'\n        };\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { inject, injectable, postConstruct } from 'inversify';\nimport { Message } from '@phosphor/messaging';\nimport URI from '@theia/core/lib/common/uri';\nimport { NavigatableWidget, StatefulWidget } from '@theia/core/lib/browser';\nimport { DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { BaseWidget, PanelLayout } from '@theia/core/lib/browser/widgets/widget';\nimport { MiniBrowserProps, MiniBrowserContentFactory } from './mini-browser-content';\n\nexport { MiniBrowserProps };\n\n@injectable()\nexport class MiniBrowserOptions {\n    uri: URI;\n}\n\n@injectable()\nexport class MiniBrowser extends BaseWidget implements NavigatableWidget, StatefulWidget {\n\n    static ID = 'mini-browser';\n    static ICON = 'fa fa-globe';\n\n    @inject(MiniBrowserOptions)\n    protected readonly options: MiniBrowserOptions;\n\n    @inject(MiniBrowserContentFactory)\n    protected readonly createContent: MiniBrowserContentFactory;\n\n    @postConstruct()\n    protected init(): void {\n        const { uri } = this.options;\n        this.id = `${MiniBrowser.ID}:${uri.toString()}`;\n        this.title.closable = true;\n        this.layout = new PanelLayout({ fitPolicy: 'set-no-constraint' });\n    }\n\n    getResourceUri(): URI | undefined {\n        return this.options.uri;\n    }\n\n    createMoveToUri(resourceUri: URI): URI | undefined {\n        return this.options.uri && this.options.uri.withPath(resourceUri.path);\n    }\n\n    protected props: MiniBrowserProps | undefined;\n    protected readonly toDisposeOnProps = new DisposableCollection();\n\n    setProps(raw: MiniBrowserProps): void {\n        const props: MiniBrowserProps = {\n            toolbar: raw.toolbar,\n            startPage: raw.startPage,\n            sandbox: raw.sandbox,\n            iconClass: raw.iconClass,\n            name: raw.name,\n            resetBackground: raw.resetBackground\n        };\n        if (JSON.stringify(props) === JSON.stringify(this.props)) {\n            return;\n        }\n        this.toDisposeOnProps.dispose();\n        this.toDispose.push(this.toDisposeOnProps);\n        this.props = props;\n\n        this.title.caption = this.title.label = props.name || 'Browser';\n        this.title.iconClass = props.iconClass || MiniBrowser.ICON;\n\n        const content = this.createContent(props);\n        (this.layout as PanelLayout).addWidget(content);\n        this.toDisposeOnProps.push(content);\n    }\n\n    protected onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        const widget = (this.layout as PanelLayout).widgets[0];\n        if (widget) {\n            widget.activate();\n        }\n    }\n\n    storeState(): object {\n        const { props } = this;\n        return { props };\n    }\n\n    restoreState(oldState: object): void {\n        if (!this.toDisposeOnProps.disposed) {\n            return;\n        }\n        if ('props' in oldState) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.setProps((<any>oldState)['props']);\n        }\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport const MiniBrowserServicePath = '/services/mini-browser-service';\nexport const MiniBrowserService = Symbol('MiniBrowserService');\nexport interface MiniBrowserService {\n\n    /**\n     * Resolves to an array of file extensions - priority pairs supported by the `Mini Browser`.\n     *\n     * The file extensions start without the leading dot (`.`) and should be treated in a case-insensitive way. This means,\n     * if the `Mini Browser` supports `['jpg']`, then it can open the `MyPicture.JPG` file.\n     */\n    supportedFileExtensions(): Promise<Readonly<{ extension: string, priority: number }>[]>;\n\n}\n","\nvar content = require(\"!!../../../../../css-loader/index.js!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/index.js!./index.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/index.js!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","module.exports = \"data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgMjAxOSBLZW5uZXRoIEF1Y2hlbmJlcmcuIC0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4tLT4KPHN2ZyB3aWR0aD0iMjVweCIgaGVpZ2h0PSIyNXB4IiB2aWV3Qm94PSIwIDAgMjUgMjUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjIgKDY3MTQ1KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5pY29uPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Imljb24iIGZpbGw9IiMyODc5RkYiPgogICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aCIgcG9pbnRzPSIxMy44NjcxODc1IDE1LjYyNSAxMy44NjcxODc1IDE0LjA2MjUgMTguNTU0Njg3NSAxNC4wNjI1IDE4LjU1NDY4NzUgMTUuNjI1Ij48L3BvbHlnb24+CiAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJQYXRoIiBwb2ludHM9IjEzLjg2NzE4NzUgMTIuNSAxMy44NjcxODc1IDEwLjkzNzUgMjEuNjc5Njg3NSAxMC45Mzc1IDIxLjY3OTY4NzUgMTIuNSI+PC9wb2x5Z29uPgogICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aCIgcG9pbnRzPSIxMy44NjcxODc1IDkuMzc1IDEzLjg2NzE4NzUgNy44MTI1IDIxLjY3OTY4NzUgNy44MTI1IDIxLjY3OTY4NzUgOS4zNzUiPjwvcG9seWdvbj4KICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgeD0iMi45Mjk2ODc1IiB5PSI3LjgxMjUiIHdpZHRoPSI3LjgxMjUiIGhlaWdodD0iNy44MTI1Ij48L3JlY3Q+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0wLDAgTDAsMjUgTDI0Ljk5OTIxODgsMjUgTDI1LDAgTDAsMCBaIE0xNy4xODc1LDEuNTYyNSBMMTcuMTg3NSwzLjEyNSBMNy44MTI1LDMuMTI1IEw3LjgxMjUsMS41NjI1IEwxNy4xODc1LDEuNTYyNSBaIE02LjI1LDEuNTYyNSBMNi4yNSwzLjEyNSBMNC42ODc1LDMuMTI1IEw0LjY4NzUsMS41NjI1IEw2LjI1LDEuNTYyNSBaIE0xLjU2MjUsMS41NjI1IEwzLjEyNSwxLjU2MjUgTDMuMTI1LDMuMTI1IEwxLjU2MjUsMy4xMjUgTDEuNTYyNSwxLjU2MjUgWiBNMjMuNDM2NzE4OCwyMy4wNDY4NzUgTDEuNTYyNSwyMy4wNDY4NzUgTDEuNTYyNSw0LjY4NzUgTDIzLjQzNjcxODgsNC42ODc1IEwyMy40MzY3MTg4LDIzLjA0Njg3NSBaIE0yMy40Mzc1LDMuMTI1IEwyMC4zMTI1LDMuMTI1IEwyMC4zMTI1LDEuNTYyNSBMMjMuNDM3NSwxLjU2MjUgTDIzLjQzNzUsMy4xMjUgWiIgaWQ9IlNoYXBlIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo=\"","var escape = require(\"../../../../../css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/********************************************************************************\\n * Copyright (C) 2018 TypeFox and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n:root {\\n    --theia-private-mini-browser-height: var(--theia-content-line-height);\\n}\\n\\n.theia-mini-browser {\\n    display: flex;\\n    flex-direction: column;\\n    height: 100%;\\n}\\n\\n.theia-mini-browser-icon {\\n    mask: url(\" + escape(require(\"./mini-browser.svg\")) + \");\\n    -webkit-mask: url(\" + escape(require(\"./mini-browser.svg\")) + \");\\n}\\n\\n.theia-mini-browser-toolbar {\\n    margin-top: 8px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-evenly;\\n    padding: 0 10px;\\n}\\n\\n.theia-mini-browser-toolbar-read-only {\\n    margin-top: 8px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-evenly;\\n    padding: 0 10px;\\n}\\n\\n.theia-mini-browser-toolbar .theia-input {\\n    width: 100%;\\n    line-height: var(--theia-private-mini-browser-height);\\n    margin-left: 4px;\\n    margin-right: 4px;\\n}\\n\\n.theia-mini-browser-toolbar-read-only .theia-input {\\n    width: 100%;\\n    line-height: var(--theia-private-mini-browser-height);\\n    margin-left: 4px;\\n    margin-right: 4px;\\n    cursor: pointer;\\n    background: var(--theia-input-background);\\n    border: none;\\n    text-decoration: underline;\\n    outline: none;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    color: var(--theia-input-foreground);\\n}\\n\\n.theia-mini-browser-toolbar-read-only .theia-input:hover {\\n    color: var(--theia-button-hoverBackground);\\n}\\n\\n.theia-mini-browser-button {\\n    min-width: 1rem;\\n    text-align: center;\\n    flex-grow: 0;\\n    font-family: FontAwesome;\\n    font-size: calc(var(--theia-content-font-size) * 0.8);\\n    color: var(--theia-icon-foreground);\\n    margin: 0px 4px 0px 4px;\\n}\\n\\n.theia-mini-browser-button:not(.theia-mini-browser-button-disabled):hover {\\n    cursor: pointer;\\n}\\n\\n.theia-mini-browser-button-disabled {\\n    opacity: var(--theia-mod-disabled-opacity);\\n}\\n\\n.theia-mini-browser-previous::before {\\n    content: \\\"\\\\F053\\\";\\n}\\n\\n.theia-mini-browser-next::before {\\n    content: \\\"\\\\F054\\\";\\n}\\n\\n.theia-mini-browser-refresh::before {\\n    content: \\\"\\\\F021\\\";\\n}\\n\\n.theia-mini-browser-open::before {\\n    content: \\\"\\\\F08E\\\";\\n}\\n\\n.theia-mini-browser-content-area {\\n    position: relative;\\n    display: flex;\\n    height: 100%;\\n    width: 100%;\\n    flex-direction: column;\\n    overflow: hidden;\\n    margin-top: 6px;\\n}\\n\\n.theia-mini-browser-pdf-container {\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n.theia-mini-browser-load-indicator {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    z-index: 10;\\n    background: var(--theia-editor-background);\\n    background-image: var(--theia-preloader);\\n    background-size: 60px 60px;\\n    background-repeat: no-repeat;\\n    background-position: center;\\n    transition: opacity 0.8s;\\n}\\n\\n.theia-mini-browser-load-indicator.theia-fade-out {\\n    opacity: 0;\\n}\\n\\n.theia-mini-browser-error-bar {\\n    height: 19px;\\n    padding-left: var(--theia-ui-padding);\\n    background-color: var(--theia-inputValidation-errorBorder);\\n    color: var(--theia-editor-foreground);\\n    font-size: var(--theia-statusBar-font-size);\\n    z-index: 1000; /* Above the transparent overlay (`z-index: 999;`). */\\n}\\n\\n.theia-mini-browser-error-bar span {\\n    margin-top: 3px;\\n    margin-left: var(--theia-ui-padding);\\n}\\n\\n.theia-mini-browser-content-area iframe {\\n    flex-grow: 1;\\n    border: none; margin: 0; padding: 0;\\n}\\n\", \"\"]);\n\n// exports\n","/*global ActiveXObject, window, console, define, module, jQuery */\n//jshint unused:false, strict: false\n\n/*\n    PDFObject v2.1.1\n    https://github.com/pipwerks/PDFObject\n    Copyright (c) 2008-2018 Philip Hutchison\n    MIT-style license: http://pipwerks.mit-license.org/\n    UMD module pattern from https://github.com/umdjs/umd/blob/master/templates/returnExports.js\n*/\n\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.PDFObject = factory();\n  }\n}(this, function () {\n\n    \"use strict\";\n    //jshint unused:true\n\n    //PDFObject is designed for client-side (browsers), not server-side (node)\n    //Will choke on undefined navigator and window vars when run on server\n    //Return boolean false and exit function when running server-side\n\n    if(typeof window === \"undefined\" || typeof navigator === \"undefined\"){ return false; }\n\n    var pdfobjectversion = \"2.1.1\",\n        ua = window.navigator.userAgent,\n\n        //declare booleans\n        supportsPDFs,\n        isIE,\n        supportsPdfMimeType = (typeof navigator.mimeTypes['application/pdf'] !== \"undefined\"),\n        supportsPdfActiveX,\n        isModernBrowser = (function (){ return (typeof window.Promise !== \"undefined\"); })(),\n        isFirefox = (function (){ return (ua.indexOf(\"irefox\") !== -1); } )(),\n        isFirefoxWithPDFJS = (function (){\n            //Firefox started shipping PDF.js in Firefox 19.\n            //If this is Firefox 19 or greater, assume PDF.js is available\n            if(!isFirefox){ return false; }\n            //parse userAgent string to get release version (\"rv\")\n            //ex: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:57.0) Gecko/20100101 Firefox/57.0\n            return (parseInt(ua.split(\"rv:\")[1].split(\".\")[0], 10) > 18);\n        })(),\n        isIOS = (function (){ return (/iphone|ipad|ipod/i.test(ua.toLowerCase())); })(),\n\n        //declare functions\n        createAXO,\n        buildFragmentString,\n        log,\n        embedError,\n        embed,\n        getTargetElement,\n        generatePDFJSiframe,\n        generateEmbedElement;\n\n\n    /* ----------------------------------------------------\n       Supporting functions\n       ---------------------------------------------------- */\n\n    createAXO = function (type){\n        var ax;\n        try {\n            ax = new ActiveXObject(type);\n        } catch (e) {\n            ax = null; //ensure ax remains null\n        }\n        return ax;\n    };\n\n    //IE11 still uses ActiveX for Adobe Reader, but IE 11 doesn't expose\n    //window.ActiveXObject the same way previous versions of IE did\n    //window.ActiveXObject will evaluate to false in IE 11, but \"ActiveXObject\" in window evaluates to true\n    //so check the first one for older IE, and the second for IE11\n    //FWIW, MS Edge (replacing IE11) does not support ActiveX at all, both will evaluate false\n    //Constructed as a method (not a prop) to avoid unneccesarry overhead -- will only be evaluated if needed\n    isIE = function (){ return !!(window.ActiveXObject || \"ActiveXObject\" in window); };\n\n    //If either ActiveX support for \"AcroPDF.PDF\" or \"PDF.PdfCtrl\" are found, return true\n    //Constructed as a method (not a prop) to avoid unneccesarry overhead -- will only be evaluated if needed\n    supportsPdfActiveX = function (){ return !!(createAXO(\"AcroPDF.PDF\") || createAXO(\"PDF.PdfCtrl\")); };\n\n    //Determines whether PDF support is available\n    supportsPDFs = (\n        //as of iOS 12, inline PDF rendering is still not supported in Safari or native webview\n        //3rd-party browsers (eg Chrome, Firefox) use Apple's webview for rendering, and thus the same result as Safari\n        //Therefore if iOS, we shall assume that PDF support is not available\n        !isIOS && (\n            //Modern versions of Firefox come bundled with PDFJS\n            isFirefoxWithPDFJS || \n            //Browsers that still support the original MIME type check\n            supportsPdfMimeType || (\n                //Pity the poor souls still using IE\n                isIE() && supportsPdfActiveX()\n            )\n        )\n    );\n\n    //Create a fragment identifier for using PDF Open parameters when embedding PDF\n    buildFragmentString = function(pdfParams){\n\n        var string = \"\",\n            prop;\n\n        if(pdfParams){\n\n            for (prop in pdfParams) {\n                if (pdfParams.hasOwnProperty(prop)) {\n                    string += encodeURIComponent(prop) + \"=\" + encodeURIComponent(pdfParams[prop]) + \"&\";\n                }\n            }\n\n            //The string will be empty if no PDF Params found\n            if(string){\n\n                string = \"#\" + string;\n\n                //Remove last ampersand\n                string = string.slice(0, string.length - 1);\n\n            }\n\n        }\n\n        return string;\n\n    };\n\n    log = function (msg){\n        if(typeof console !== \"undefined\" && console.log){\n            console.log(\"[PDFObject] \" + msg);\n        }\n    };\n\n    embedError = function (msg){\n        log(msg);\n        return false;\n    };\n\n    getTargetElement = function (targetSelector){\n\n        //Default to body for full-browser PDF\n        var targetNode = document.body;\n\n        //If a targetSelector is specified, check to see whether\n        //it's passing a selector, jQuery object, or an HTML element\n\n        if(typeof targetSelector === \"string\"){\n\n            //Is CSS selector\n            targetNode = document.querySelector(targetSelector);\n\n        } else if (typeof jQuery !== \"undefined\" && targetSelector instanceof jQuery && targetSelector.length) {\n\n            //Is jQuery element. Extract HTML node\n            targetNode = targetSelector.get(0);\n\n        } else if (typeof targetSelector.nodeType !== \"undefined\" && targetSelector.nodeType === 1){\n\n            //Is HTML element\n            targetNode = targetSelector;\n\n        }\n\n        return targetNode;\n\n    };\n\n    generatePDFJSiframe = function (targetNode, url, pdfOpenFragment, PDFJS_URL, id){\n\n        var fullURL = PDFJS_URL + \"?file=\" + encodeURIComponent(url) + pdfOpenFragment;\n        var scrollfix = (isIOS) ? \"-webkit-overflow-scrolling: touch; overflow-y: scroll; \" : \"overflow: hidden; \";\n        var iframe = \"<div style='\" + scrollfix + \"position: absolute; top: 0; right: 0; bottom: 0; left: 0;'><iframe  \" + id + \" src='\" + fullURL + \"' style='border: none; width: 100%; height: 100%;' frameborder='0'></iframe></div>\";\n        targetNode.className += \" pdfobject-container\";\n        targetNode.style.position = \"relative\";\n        targetNode.style.overflow = \"auto\";\n        targetNode.innerHTML = iframe;\n        return targetNode.getElementsByTagName(\"iframe\")[0];\n\n    };\n\n    generateEmbedElement = function (targetNode, targetSelector, url, pdfOpenFragment, width, height, id){\n\n        var style = \"\";\n\n        if(targetSelector && targetSelector !== document.body){\n            style = \"width: \" + width + \"; height: \" + height + \";\";\n        } else {\n            style = \"position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;\";\n        }\n\n        targetNode.className += \" pdfobject-container\";\n        targetNode.innerHTML = \"<embed \" + id + \" class='pdfobject' src='\" + url + pdfOpenFragment + \"' type='application/pdf' style='overflow: auto; \" + style + \"'/>\";\n\n        return targetNode.getElementsByTagName(\"embed\")[0];\n\n    };\n\n    embed = function(url, targetSelector, options){\n\n        //Ensure URL is available. If not, exit now.\n        if(typeof url !== \"string\"){ return embedError(\"URL is not valid\"); }\n\n        //If targetSelector is not defined, convert to boolean\n        targetSelector = (typeof targetSelector !== \"undefined\") ? targetSelector : false;\n\n        //Ensure options object is not undefined -- enables easier error checking below\n        options = (typeof options !== \"undefined\") ? options : {};\n\n        //Get passed options, or set reasonable defaults\n        var id = (options.id && typeof options.id === \"string\") ? \"id='\" + options.id + \"'\" : \"\",\n            page = (options.page) ? options.page : false,\n            pdfOpenParams = (options.pdfOpenParams) ? options.pdfOpenParams : {},\n            fallbackLink = (typeof options.fallbackLink !== \"undefined\") ? options.fallbackLink : true,\n            width = (options.width) ? options.width : \"100%\",\n            height = (options.height) ? options.height : \"100%\",\n            assumptionMode = (typeof options.assumptionMode === \"boolean\") ? options.assumptionMode : true,\n            forcePDFJS = (typeof options.forcePDFJS === \"boolean\") ? options.forcePDFJS : false,\n            PDFJS_URL = (options.PDFJS_URL) ? options.PDFJS_URL : false,\n            targetNode = getTargetElement(targetSelector),\n            fallbackHTML = \"\",\n            pdfOpenFragment = \"\",\n            fallbackHTML_default = \"<p>This browser does not support inline PDFs. Please download the PDF to view it: <a href='[url]'>Download PDF</a></p>\";\n\n        //If target element is specified but is not valid, exit without doing anything\n        if(!targetNode){ return embedError(\"Target element cannot be determined\"); }\n\n\n        //page option overrides pdfOpenParams, if found\n        if(page){\n            pdfOpenParams.page = page;\n        }\n\n        //Stringify optional Adobe params for opening document (as fragment identifier)\n        pdfOpenFragment = buildFragmentString(pdfOpenParams);\n\n        //Do the dance\n\n        //If the forcePDFJS option is invoked, skip everything else and embed as directed\n        if(forcePDFJS && PDFJS_URL){\n\n            return generatePDFJSiframe(targetNode, url, pdfOpenFragment, PDFJS_URL, id);\n\n        //If traditional support is provided, or if this is a modern browser and not iOS (see comment for supportsPDFs declaration)\n        } else if(supportsPDFs || (assumptionMode && isModernBrowser && !isIOS)){\n\n            return generateEmbedElement(targetNode, targetSelector, url, pdfOpenFragment, width, height, id);\n\n        //If everything else has failed and a PDFJS fallback is provided, try to use it\n        } else if(PDFJS_URL){\n\n            return generatePDFJSiframe(targetNode, url, pdfOpenFragment, PDFJS_URL, id);\n\n        } else {\n\n            //Display the fallback link if available\n            if(fallbackLink){\n\n                fallbackHTML = (typeof fallbackLink === \"string\") ? fallbackLink : fallbackHTML_default;\n                targetNode.innerHTML = fallbackHTML.replace(/\\[url\\]/g, url);\n\n            }\n\n            return embedError(\"This browser does not support embedded PDFs\");\n\n        }\n\n    };\n\n    return {\n        embed: function (a,b,c){ return embed(a,b,c); },\n        pdfobjectversion: (function () { return pdfobjectversion; })(),\n        supportsPDFs: (function (){ return supportsPDFs; })()\n    };\n\n}));"],"sourceRoot":""}